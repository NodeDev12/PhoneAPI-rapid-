<!-- views/history.ejs -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../history.css">
</head>

<body class="body">

<nav class="navbar navbar-expand-lg navbar-dark bg-custom">
    <a class="navbar-brand" href="#">Validation History</a>

    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/home">Phone Validation</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/email-validatator">Email Validation</a>
            </li>


            <li class="nav-item">
                <a class="nav-link" href="/">Login</a>
            </li>
        </ul>
    </div>
</nav>

<div class="login-page">
    <div class="">

        <h2 class="history-heading">Phone Validation History</h2>

        <!-- Display phone validation history -->
        <% if (phoneValidationHistory.length === 0) { %>
            <p>No phone validation history available.</p>
        <% } else { %>
            <form method="post" action="/submit-phone-validation">
                <!-- Add your form fields for new entry here if needed -->
                <table class="table">
                    <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Valid</th>
                        <th>Country</th>
                        <th>Location</th>
                        <th>Type</th>
                        <th>Typed Number</th> <!-- Add a new column for typed number -->
                    </tr>
                    </thead>
                    <tbody>
                    <% for (const validation of phoneValidationHistory) { %>
                        <tr>
                            <td><%= validation.timestamp %></td>
                            <td><%= validation.valid %></td>
                            <td><%= validation.country %></td>
                            <td><%= validation.location %></td>
                            <td><%= validation.type || 'N/A' %></td>
                            <td><%= validation.phoneNumber %></td> <!-- Display the typed number -->
                        </tr>
                    <% } %>
                    </tbody>
                </table>
            </form>
        <% } %>

        <div>

            <h2 class="history-heading">Email Validation History</h2>

            <!-- Display email validation history -->
            <% if (emailValidationHistory.length === 0) { %>
                <p>No email validation history available.</p>
            <% } else { %>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Email</th>
                        <th>Valid</th>
                        <th>Provider</th>
                        <th>Is Freemail</th>
                        <th>Is Disposable</th>
                        <!-- Add more columns as needed -->
                    </tr>
                    </thead>
                    <tbody>
                    <% for (const validation of emailValidationHistory) { %>
                        <tr>
                            <td><%= validation.timestamp %></td>
                            <td><%= validation.email %></td>
                            <td><%= validation.valid %></td>
                            <td><%= validation.provider %></td>
                            <td><%= validation.isFreemail %></td>
                            <td><%= validation.isDisposable %></td>
                            <!-- Add more columns as needed -->
                        </tr>
                    <% } %>
                    </tbody>
                </table>
            <% } %>

        </div>

    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</div>
</body>

</html>
